package Application.Web;

import Application.Model.Owner;
import Application.Service.PetClinicService;

import java.net.URI;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.client.RestTemplate;
import org.springframework.web.servlet.ModelAndView;

@RestController
public class PetClinicController {
    private RestTemplate restTemplate;
	@Autowired
    private PetClinicService petClinicService;
    @RequestMapping ("/owners")
    public ModelAndView getOwners(){
        ModelAndView mav = new ModelAndView();
        mav.addObject("owners",petClinicService.findOwners());
        mav.setViewName("owners");
        return mav;
    }
    @RequestMapping("/pcs")
    public String responseBody(){
        return "this is the response";
    }
    public void createOwner() {
    	Owner owner = new Owner("New Owner","lastname",5L);
    	URI location = restTemplate.postForLocation("http://localhost:8080/rest/owner", owner);
    }
}
